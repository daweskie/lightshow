   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"chprintf.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.long_to_string_with_divisor,"ax",%progbits
  20              		.align	2
  21              		.p2align 4,,15
  22              		.thumb
  23              		.thumb_func
  25              	long_to_string_with_divisor:
  26              	.LFB7:
  27              		.file 1 "/usr/src/chibiostest/os/various/chprintf.c"
   1:/usr/src/chibiostest/os/various/chprintf.c **** /*
   2:/usr/src/chibiostest/os/various/chprintf.c ****     ChibiOS/RT - Copyright (C) 2006,2007,2008,2009,2010,
   3:/usr/src/chibiostest/os/various/chprintf.c ****                  2011,2012 Giovanni Di Sirio.
   4:/usr/src/chibiostest/os/various/chprintf.c **** 
   5:/usr/src/chibiostest/os/various/chprintf.c ****     This file is part of ChibiOS/RT.
   6:/usr/src/chibiostest/os/various/chprintf.c **** 
   7:/usr/src/chibiostest/os/various/chprintf.c ****     ChibiOS/RT is free software; you can redistribute it and/or modify
   8:/usr/src/chibiostest/os/various/chprintf.c ****     it under the terms of the GNU General Public License as published by
   9:/usr/src/chibiostest/os/various/chprintf.c ****     the Free Software Foundation; either version 3 of the License, or
  10:/usr/src/chibiostest/os/various/chprintf.c ****     (at your option) any later version.
  11:/usr/src/chibiostest/os/various/chprintf.c **** 
  12:/usr/src/chibiostest/os/various/chprintf.c ****     ChibiOS/RT is distributed in the hope that it will be useful,
  13:/usr/src/chibiostest/os/various/chprintf.c ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  14:/usr/src/chibiostest/os/various/chprintf.c ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  15:/usr/src/chibiostest/os/various/chprintf.c ****     GNU General Public License for more details.
  16:/usr/src/chibiostest/os/various/chprintf.c **** 
  17:/usr/src/chibiostest/os/various/chprintf.c ****     You should have received a copy of the GNU General Public License
  18:/usr/src/chibiostest/os/various/chprintf.c ****     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  19:/usr/src/chibiostest/os/various/chprintf.c **** */
  20:/usr/src/chibiostest/os/various/chprintf.c **** /*
  21:/usr/src/chibiostest/os/various/chprintf.c ****    Concepts and parts of this file have been contributed by Fabio Utzig.
  22:/usr/src/chibiostest/os/various/chprintf.c ****  */
  23:/usr/src/chibiostest/os/various/chprintf.c **** 
  24:/usr/src/chibiostest/os/various/chprintf.c **** /**
  25:/usr/src/chibiostest/os/various/chprintf.c ****  * @file    chprintf.c
  26:/usr/src/chibiostest/os/various/chprintf.c ****  * @brief   Mini printf-like functionality.
  27:/usr/src/chibiostest/os/various/chprintf.c ****  *
  28:/usr/src/chibiostest/os/various/chprintf.c ****  * @addtogroup chprintf
  29:/usr/src/chibiostest/os/various/chprintf.c ****  * @{
  30:/usr/src/chibiostest/os/various/chprintf.c ****  */
  31:/usr/src/chibiostest/os/various/chprintf.c **** 
  32:/usr/src/chibiostest/os/various/chprintf.c **** #include <stdarg.h>
  33:/usr/src/chibiostest/os/various/chprintf.c **** 
  34:/usr/src/chibiostest/os/various/chprintf.c **** #include "ch.h"
  35:/usr/src/chibiostest/os/various/chprintf.c **** #include "chprintf.h"
  36:/usr/src/chibiostest/os/various/chprintf.c **** 
  37:/usr/src/chibiostest/os/various/chprintf.c **** #define MAX_FILLER 11
  38:/usr/src/chibiostest/os/various/chprintf.c **** #define FLOAT_PRECISION 100000
  39:/usr/src/chibiostest/os/various/chprintf.c **** 
  40:/usr/src/chibiostest/os/various/chprintf.c **** static char *long_to_string_with_divisor(char *p,
  41:/usr/src/chibiostest/os/various/chprintf.c ****                                          long num,
  42:/usr/src/chibiostest/os/various/chprintf.c ****                                          unsigned radix,
  43:/usr/src/chibiostest/os/various/chprintf.c ****                                          long divisor) {
  28              		.loc 1 43 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 32
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33 0000 88B0     		sub	sp, sp, #32
  34              		.cfi_def_cfa_offset 32
  35 0002 0390     		str	r0, [sp, #12]
  36 0004 0291     		str	r1, [sp, #8]
  37 0006 0192     		str	r2, [sp, #4]
  38 0008 0093     		str	r3, [sp]
  44:/usr/src/chibiostest/os/various/chprintf.c ****   int i;
  45:/usr/src/chibiostest/os/various/chprintf.c ****   char *q;
  46:/usr/src/chibiostest/os/various/chprintf.c ****   long l, ll;
  47:/usr/src/chibiostest/os/various/chprintf.c **** 
  48:/usr/src/chibiostest/os/various/chprintf.c ****   l = num;
  39              		.loc 1 48 0
  40 000a 029B     		ldr	r3, [sp, #8]
  41 000c 0593     		str	r3, [sp, #20]
  49:/usr/src/chibiostest/os/various/chprintf.c ****   if (divisor == 0) {
  42              		.loc 1 49 0
  43 000e 009B     		ldr	r3, [sp]
  44 0010 002B     		cmp	r3, #0
  45 0012 02D1     		bne	.L2
  50:/usr/src/chibiostest/os/various/chprintf.c ****     ll = num;
  46              		.loc 1 50 0
  47 0014 029B     		ldr	r3, [sp, #8]
  48 0016 0493     		str	r3, [sp, #16]
  49 0018 01E0     		b	.L3
  50              	.L2:
  51:/usr/src/chibiostest/os/various/chprintf.c ****   } else {
  52:/usr/src/chibiostest/os/various/chprintf.c ****     ll = divisor;
  51              		.loc 1 52 0
  52 001a 009B     		ldr	r3, [sp]
  53 001c 0493     		str	r3, [sp, #16]
  54              	.L3:
  53:/usr/src/chibiostest/os/various/chprintf.c ****   }
  54:/usr/src/chibiostest/os/various/chprintf.c **** 
  55:/usr/src/chibiostest/os/various/chprintf.c ****   q = p + MAX_FILLER;
  55              		.loc 1 55 0
  56 001e 039B     		ldr	r3, [sp, #12]
  57 0020 0B33     		adds	r3, r3, #11
  58 0022 0693     		str	r3, [sp, #24]
  59              	.L5:
  56:/usr/src/chibiostest/os/various/chprintf.c ****   do {
  57:/usr/src/chibiostest/os/various/chprintf.c ****     i = (int)(l % radix);
  60              		.loc 1 57 0
  61 0024 059B     		ldr	r3, [sp, #20]
  62 0026 019A     		ldr	r2, [sp, #4]
  63 0028 B3FBF2F2 		udiv	r2, r3, r2
  64 002c 0199     		ldr	r1, [sp, #4]
  65 002e 01FB02F2 		mul	r2, r1, r2
  66 0032 9B1A     		subs	r3, r3, r2
  67 0034 0793     		str	r3, [sp, #28]
  58:/usr/src/chibiostest/os/various/chprintf.c ****     i += '0';
  68              		.loc 1 58 0
  69 0036 079B     		ldr	r3, [sp, #28]
  70 0038 3033     		adds	r3, r3, #48
  71 003a 0793     		str	r3, [sp, #28]
  59:/usr/src/chibiostest/os/various/chprintf.c ****     if (i > '9')
  72              		.loc 1 59 0
  73 003c 079B     		ldr	r3, [sp, #28]
  74 003e 392B     		cmp	r3, #57
  75 0040 02DD     		ble	.L4
  60:/usr/src/chibiostest/os/various/chprintf.c ****       i += 'A' - '0' - 10;
  76              		.loc 1 60 0
  77 0042 079B     		ldr	r3, [sp, #28]
  78 0044 0733     		adds	r3, r3, #7
  79 0046 0793     		str	r3, [sp, #28]
  80              	.L4:
  61:/usr/src/chibiostest/os/various/chprintf.c ****     *--q = i;
  81              		.loc 1 61 0
  82 0048 069B     		ldr	r3, [sp, #24]
  83 004a 013B     		subs	r3, r3, #1
  84 004c 0693     		str	r3, [sp, #24]
  85 004e 079B     		ldr	r3, [sp, #28]
  86 0050 DAB2     		uxtb	r2, r3
  87 0052 069B     		ldr	r3, [sp, #24]
  88 0054 1A70     		strb	r2, [r3]
  62:/usr/src/chibiostest/os/various/chprintf.c ****     l /= radix;
  89              		.loc 1 62 0
  90 0056 059A     		ldr	r2, [sp, #20]
  91 0058 019B     		ldr	r3, [sp, #4]
  92 005a B2FBF3F3 		udiv	r3, r2, r3
  93 005e 0593     		str	r3, [sp, #20]
  63:/usr/src/chibiostest/os/various/chprintf.c ****   } while ((ll /= radix) != 0);
  94              		.loc 1 63 0
  95 0060 049A     		ldr	r2, [sp, #16]
  96 0062 019B     		ldr	r3, [sp, #4]
  97 0064 B2FBF3F3 		udiv	r3, r2, r3
  98 0068 0493     		str	r3, [sp, #16]
  99 006a 049B     		ldr	r3, [sp, #16]
 100 006c 002B     		cmp	r3, #0
 101 006e D9D1     		bne	.L5
  64:/usr/src/chibiostest/os/various/chprintf.c **** 
  65:/usr/src/chibiostest/os/various/chprintf.c ****   i = (int)(p + MAX_FILLER - q);
 102              		.loc 1 65 0
 103 0070 039B     		ldr	r3, [sp, #12]
 104 0072 0B33     		adds	r3, r3, #11
 105 0074 1A46     		mov	r2, r3
 106 0076 069B     		ldr	r3, [sp, #24]
 107 0078 D31A     		subs	r3, r2, r3
 108 007a 0793     		str	r3, [sp, #28]
 109              	.L6:
  66:/usr/src/chibiostest/os/various/chprintf.c ****   do
  67:/usr/src/chibiostest/os/various/chprintf.c ****     *p++ = *q++;
 110              		.loc 1 67 0 discriminator 1
 111 007c 039B     		ldr	r3, [sp, #12]
 112 007e 5A1C     		adds	r2, r3, #1
 113 0080 0392     		str	r2, [sp, #12]
 114 0082 069A     		ldr	r2, [sp, #24]
 115 0084 511C     		adds	r1, r2, #1
 116 0086 0691     		str	r1, [sp, #24]
 117 0088 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 118 008a 1A70     		strb	r2, [r3]
  68:/usr/src/chibiostest/os/various/chprintf.c ****   while (--i);
 119              		.loc 1 68 0 discriminator 1
 120 008c 079B     		ldr	r3, [sp, #28]
 121 008e 013B     		subs	r3, r3, #1
 122 0090 0793     		str	r3, [sp, #28]
 123 0092 079B     		ldr	r3, [sp, #28]
 124 0094 002B     		cmp	r3, #0
 125 0096 F1D1     		bne	.L6
  69:/usr/src/chibiostest/os/various/chprintf.c **** 
  70:/usr/src/chibiostest/os/various/chprintf.c ****   return p;
 126              		.loc 1 70 0
 127 0098 039B     		ldr	r3, [sp, #12]
  71:/usr/src/chibiostest/os/various/chprintf.c **** }
 128              		.loc 1 71 0
 129 009a 1846     		mov	r0, r3
 130 009c 08B0     		add	sp, sp, #32
 131              		@ sp needed
 132 009e 7047     		bx	lr
 133              		.cfi_endproc
 134              	.LFE7:
 136              		.section	.text.ltoa,"ax",%progbits
 137              		.align	2
 138              		.p2align 4,,15
 139              		.thumb
 140              		.thumb_func
 142              	ltoa:
 143              	.LFB8:
  72:/usr/src/chibiostest/os/various/chprintf.c **** 
  73:/usr/src/chibiostest/os/various/chprintf.c **** static char *ltoa(char *p, long num, unsigned radix) {
 144              		.loc 1 73 0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 16
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148 0000 00B5     		push	{lr}
 149              		.cfi_def_cfa_offset 4
 150              		.cfi_offset 14, -4
 151 0002 85B0     		sub	sp, sp, #20
 152              		.cfi_def_cfa_offset 24
 153 0004 0390     		str	r0, [sp, #12]
 154 0006 0291     		str	r1, [sp, #8]
 155 0008 0192     		str	r2, [sp, #4]
  74:/usr/src/chibiostest/os/various/chprintf.c **** 
  75:/usr/src/chibiostest/os/various/chprintf.c ****   return long_to_string_with_divisor(p, num, radix, 0);
 156              		.loc 1 75 0
 157 000a 0398     		ldr	r0, [sp, #12]
 158 000c 0299     		ldr	r1, [sp, #8]
 159 000e 019A     		ldr	r2, [sp, #4]
 160 0010 0023     		movs	r3, #0
 161 0012 FFF7FEFF 		bl	long_to_string_with_divisor
 162 0016 0346     		mov	r3, r0
  76:/usr/src/chibiostest/os/various/chprintf.c **** }
 163              		.loc 1 76 0
 164 0018 1846     		mov	r0, r3
 165 001a 05B0     		add	sp, sp, #20
 166              		@ sp needed
 167 001c 5DF804FB 		ldr	pc, [sp], #4
 168              		.cfi_endproc
 169              	.LFE8:
 171              		.section	.rodata
 172              		.align	2
 173              	.LC0:
 174 0000 286E756C 		.ascii	"(null)\000"
 174      6C2900
 175 0007 00       		.section	.text.chprintf,"ax",%progbits
 176              		.align	2
 177              		.p2align 4,,15
 178              		.global	chprintf
 179              		.thumb
 180              		.thumb_func
 182              	chprintf:
 183              	.LFB9:
  77:/usr/src/chibiostest/os/various/chprintf.c **** 
  78:/usr/src/chibiostest/os/various/chprintf.c **** #if CHPRINTF_USE_FLOAT
  79:/usr/src/chibiostest/os/various/chprintf.c **** static char *ftoa(char *p, double num) {
  80:/usr/src/chibiostest/os/various/chprintf.c ****   long l;
  81:/usr/src/chibiostest/os/various/chprintf.c ****   unsigned long precision = FLOAT_PRECISION;
  82:/usr/src/chibiostest/os/various/chprintf.c **** 
  83:/usr/src/chibiostest/os/various/chprintf.c ****   l = num;
  84:/usr/src/chibiostest/os/various/chprintf.c ****   p = long_to_string_with_divisor(p, l, 10, 0);
  85:/usr/src/chibiostest/os/various/chprintf.c ****   *p++ = '.';
  86:/usr/src/chibiostest/os/various/chprintf.c ****   l = (num - l) * precision;
  87:/usr/src/chibiostest/os/various/chprintf.c ****   return long_to_string_with_divisor(p, l, 10, precision / 10);
  88:/usr/src/chibiostest/os/various/chprintf.c **** }
  89:/usr/src/chibiostest/os/various/chprintf.c **** #endif
  90:/usr/src/chibiostest/os/various/chprintf.c **** 
  91:/usr/src/chibiostest/os/various/chprintf.c **** /**
  92:/usr/src/chibiostest/os/various/chprintf.c ****  * @brief   System formatted output function.
  93:/usr/src/chibiostest/os/various/chprintf.c ****  * @details This function implements a minimal @p printf() like functionality
  94:/usr/src/chibiostest/os/various/chprintf.c ****  *          with output on a @p BaseSequentialStream.
  95:/usr/src/chibiostest/os/various/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
  96:/usr/src/chibiostest/os/various/chprintf.c ****  *          The following parameter types (p) are supported:
  97:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
  98:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>X</b> hexadecimal long.
  99:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>o</b> octal integer.
 100:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>O</b> octal long.
 101:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 102:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>D</b> decimal signed long.
 103:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 104:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 105:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>c</b> character.
 106:/usr/src/chibiostest/os/various/chprintf.c ****  *          - <b>s</b> string.
 107:/usr/src/chibiostest/os/various/chprintf.c ****  *          .
 108:/usr/src/chibiostest/os/various/chprintf.c ****  *
 109:/usr/src/chibiostest/os/various/chprintf.c ****  * @param[in] chp       pointer to a @p BaseSequentialStream implementing object
 110:/usr/src/chibiostest/os/various/chprintf.c ****  * @param[in] fmt       formatting string
 111:/usr/src/chibiostest/os/various/chprintf.c ****  */
 112:/usr/src/chibiostest/os/various/chprintf.c **** void chprintf(BaseSequentialStream *chp, const char *fmt, ...) {
 184              		.loc 1 112 0
 185              		.cfi_startproc
 186              		@ args = 4, pretend = 12, frame = 64
 187              		@ frame_needed = 0, uses_anonymous_args = 1
 188 0000 0EB4     		push	{r1, r2, r3}
 189              		.cfi_def_cfa_offset 12
 190              		.cfi_offset 1, -12
 191              		.cfi_offset 2, -8
 192              		.cfi_offset 3, -4
 193 0002 00B5     		push	{lr}
 194              		.cfi_def_cfa_offset 16
 195              		.cfi_offset 14, -16
 196 0004 90B0     		sub	sp, sp, #64
 197              		.cfi_def_cfa_offset 80
 198 0006 0190     		str	r0, [sp, #4]
 113:/usr/src/chibiostest/os/various/chprintf.c ****   va_list ap;
 114:/usr/src/chibiostest/os/various/chprintf.c ****   char *p, *s, c, filler;
 115:/usr/src/chibiostest/os/various/chprintf.c ****   int i, precision, width;
 116:/usr/src/chibiostest/os/various/chprintf.c ****   bool_t is_long, left_align;
 117:/usr/src/chibiostest/os/various/chprintf.c ****   long l;
 118:/usr/src/chibiostest/os/various/chprintf.c **** #if CHPRINTF_USE_FLOAT
 119:/usr/src/chibiostest/os/various/chprintf.c ****   float f;
 120:/usr/src/chibiostest/os/various/chprintf.c ****   char tmpbuf[2*MAX_FILLER + 1];
 121:/usr/src/chibiostest/os/various/chprintf.c **** #else
 122:/usr/src/chibiostest/os/various/chprintf.c ****   char tmpbuf[MAX_FILLER + 1];
 123:/usr/src/chibiostest/os/various/chprintf.c **** #endif
 124:/usr/src/chibiostest/os/various/chprintf.c **** 
 125:/usr/src/chibiostest/os/various/chprintf.c ****   va_start(ap, fmt);
 199              		.loc 1 125 0
 200 0008 12AB     		add	r3, sp, #72
 201 000a 0693     		str	r3, [sp, #24]
 202              	.L61:
 126:/usr/src/chibiostest/os/various/chprintf.c ****   while (TRUE) {
 127:/usr/src/chibiostest/os/various/chprintf.c ****     c = *fmt++;
 203              		.loc 1 127 0
 204 000c 119B     		ldr	r3, [sp, #68]
 205 000e 5A1C     		adds	r2, r3, #1
 206 0010 1192     		str	r2, [sp, #68]
 207 0012 1B78     		ldrb	r3, [r3]
 208 0014 8DF83730 		strb	r3, [sp, #55]
 128:/usr/src/chibiostest/os/various/chprintf.c ****     if (c == 0) {
 209              		.loc 1 128 0
 210 0018 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 211 001c 002B     		cmp	r3, #0
 212 001e 00D1     		bne	.L11
 129:/usr/src/chibiostest/os/various/chprintf.c ****       va_end(ap);
 130:/usr/src/chibiostest/os/various/chprintf.c ****       return;
 213              		.loc 1 130 0
 214 0020 F2E1     		b	.L63
 215              	.L11:
 131:/usr/src/chibiostest/os/various/chprintf.c ****     }
 132:/usr/src/chibiostest/os/various/chprintf.c ****     if (c != '%') {
 216              		.loc 1 132 0
 217 0022 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 218 0026 252B     		cmp	r3, #37
 219 0028 08D0     		beq	.L13
 133:/usr/src/chibiostest/os/various/chprintf.c ****       chSequentialStreamPut(chp, (uint8_t)c);
 220              		.loc 1 133 0
 221 002a 019B     		ldr	r3, [sp, #4]
 222 002c 1B68     		ldr	r3, [r3]
 223 002e 9B68     		ldr	r3, [r3, #8]
 224 0030 9DF83720 		ldrb	r2, [sp, #55]	@ zero_extendqisi2
 225 0034 0198     		ldr	r0, [sp, #4]
 226 0036 1146     		mov	r1, r2
 227 0038 9847     		blx	r3
 134:/usr/src/chibiostest/os/various/chprintf.c ****       continue;
 228              		.loc 1 134 0
 229 003a E4E1     		b	.L14
 230              	.L13:
 135:/usr/src/chibiostest/os/various/chprintf.c ****     }
 136:/usr/src/chibiostest/os/various/chprintf.c ****     p = tmpbuf;
 231              		.loc 1 136 0
 232 003c 03AB     		add	r3, sp, #12
 233 003e 0F93     		str	r3, [sp, #60]
 137:/usr/src/chibiostest/os/various/chprintf.c ****     s = tmpbuf;
 234              		.loc 1 137 0
 235 0040 03AB     		add	r3, sp, #12
 236 0042 0E93     		str	r3, [sp, #56]
 138:/usr/src/chibiostest/os/various/chprintf.c ****     left_align = FALSE;
 237              		.loc 1 138 0
 238 0044 0023     		movs	r3, #0
 239 0046 0893     		str	r3, [sp, #32]
 139:/usr/src/chibiostest/os/various/chprintf.c ****     if (*fmt == '-') {
 240              		.loc 1 139 0
 241 0048 119B     		ldr	r3, [sp, #68]
 242 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 243 004c 2D2B     		cmp	r3, #45
 244 004e 04D1     		bne	.L15
 140:/usr/src/chibiostest/os/various/chprintf.c ****       fmt++;
 245              		.loc 1 140 0
 246 0050 119B     		ldr	r3, [sp, #68]
 247 0052 0133     		adds	r3, r3, #1
 248 0054 1193     		str	r3, [sp, #68]
 141:/usr/src/chibiostest/os/various/chprintf.c ****       left_align = TRUE;
 249              		.loc 1 141 0
 250 0056 0123     		movs	r3, #1
 251 0058 0893     		str	r3, [sp, #32]
 252              	.L15:
 142:/usr/src/chibiostest/os/various/chprintf.c ****     }
 143:/usr/src/chibiostest/os/various/chprintf.c ****     filler = ' ';
 253              		.loc 1 143 0
 254 005a 2023     		movs	r3, #32
 255 005c 8DF83630 		strb	r3, [sp, #54]
 144:/usr/src/chibiostest/os/various/chprintf.c ****     if (*fmt == '.') {
 256              		.loc 1 144 0
 257 0060 119B     		ldr	r3, [sp, #68]
 258 0062 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 259 0064 2E2B     		cmp	r3, #46
 260 0066 05D1     		bne	.L16
 145:/usr/src/chibiostest/os/various/chprintf.c ****       fmt++;
 261              		.loc 1 145 0
 262 0068 119B     		ldr	r3, [sp, #68]
 263 006a 0133     		adds	r3, r3, #1
 264 006c 1193     		str	r3, [sp, #68]
 146:/usr/src/chibiostest/os/various/chprintf.c ****       filler = '0';
 265              		.loc 1 146 0
 266 006e 3023     		movs	r3, #48
 267 0070 8DF83630 		strb	r3, [sp, #54]
 268              	.L16:
 147:/usr/src/chibiostest/os/various/chprintf.c ****     }
 148:/usr/src/chibiostest/os/various/chprintf.c ****     width = 0;
 269              		.loc 1 148 0
 270 0074 0023     		movs	r3, #0
 271 0076 0A93     		str	r3, [sp, #40]
 272              	.L21:
 149:/usr/src/chibiostest/os/various/chprintf.c ****     while (TRUE) {
 150:/usr/src/chibiostest/os/various/chprintf.c ****       c = *fmt++;
 273              		.loc 1 150 0
 274 0078 119B     		ldr	r3, [sp, #68]
 275 007a 5A1C     		adds	r2, r3, #1
 276 007c 1192     		str	r2, [sp, #68]
 277 007e 1B78     		ldrb	r3, [r3]
 278 0080 8DF83730 		strb	r3, [sp, #55]
 151:/usr/src/chibiostest/os/various/chprintf.c ****       if (c >= '0' && c <= '9')
 279              		.loc 1 151 0
 280 0084 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 281 0088 2F2B     		cmp	r3, #47
 282 008a 09D9     		bls	.L17
 283              		.loc 1 151 0 is_stmt 0 discriminator 1
 284 008c 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 285 0090 392B     		cmp	r3, #57
 286 0092 05D8     		bhi	.L17
 152:/usr/src/chibiostest/os/various/chprintf.c ****         c -= '0';
 287              		.loc 1 152 0 is_stmt 1
 288 0094 9DF83730 		ldrb	r3, [sp, #55]
 289 0098 303B     		subs	r3, r3, #48
 290 009a 8DF83730 		strb	r3, [sp, #55]
 291 009e 12E0     		b	.L18
 292              	.L17:
 153:/usr/src/chibiostest/os/various/chprintf.c ****       else if (c == '*')
 293              		.loc 1 153 0
 294 00a0 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 295 00a4 2A2B     		cmp	r3, #42
 296 00a6 06D1     		bne	.L19
 154:/usr/src/chibiostest/os/various/chprintf.c ****         c = va_arg(ap, int);
 297              		.loc 1 154 0
 298 00a8 069B     		ldr	r3, [sp, #24]
 299 00aa 1A1D     		adds	r2, r3, #4
 300 00ac 0692     		str	r2, [sp, #24]
 301 00ae 1B68     		ldr	r3, [r3]
 302 00b0 8DF83730 		strb	r3, [sp, #55]
 303 00b4 07E0     		b	.L18
 304              	.L19:
 155:/usr/src/chibiostest/os/various/chprintf.c ****       else
 156:/usr/src/chibiostest/os/various/chprintf.c ****         break;
 305              		.loc 1 156 0
 306 00b6 00BF     		nop
 157:/usr/src/chibiostest/os/various/chprintf.c ****       width = width * 10 + c;
 158:/usr/src/chibiostest/os/various/chprintf.c ****     }
 159:/usr/src/chibiostest/os/various/chprintf.c ****     precision = 0;
 307              		.loc 1 159 0
 308 00b8 0023     		movs	r3, #0
 309 00ba 0B93     		str	r3, [sp, #44]
 160:/usr/src/chibiostest/os/various/chprintf.c ****     if (c == '.') {
 310              		.loc 1 160 0
 311 00bc 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 312 00c0 2E2B     		cmp	r3, #46
 313 00c2 37D1     		bne	.L22
 314 00c4 0AE0     		b	.L26
 315              	.L18:
 157:/usr/src/chibiostest/os/various/chprintf.c ****       width = width * 10 + c;
 316              		.loc 1 157 0
 317 00c6 0A9A     		ldr	r2, [sp, #40]
 318 00c8 1346     		mov	r3, r2
 319 00ca 9B00     		lsls	r3, r3, #2
 320 00cc 1344     		add	r3, r3, r2
 321 00ce 5B00     		lsls	r3, r3, #1
 322 00d0 1A46     		mov	r2, r3
 323 00d2 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 324 00d6 1344     		add	r3, r3, r2
 325 00d8 0A93     		str	r3, [sp, #40]
 158:/usr/src/chibiostest/os/various/chprintf.c ****     precision = 0;
 326              		.loc 1 158 0
 327 00da CDE7     		b	.L21
 328              	.L26:
 161:/usr/src/chibiostest/os/various/chprintf.c ****       while (TRUE) {
 162:/usr/src/chibiostest/os/various/chprintf.c ****         c = *fmt++;
 329              		.loc 1 162 0
 330 00dc 119B     		ldr	r3, [sp, #68]
 331 00de 5A1C     		adds	r2, r3, #1
 332 00e0 1192     		str	r2, [sp, #68]
 333 00e2 1B78     		ldrb	r3, [r3]
 334 00e4 8DF83730 		strb	r3, [sp, #55]
 163:/usr/src/chibiostest/os/various/chprintf.c ****         if (c >= '0' && c <= '9')
 335              		.loc 1 163 0
 336 00e8 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 337 00ec 2F2B     		cmp	r3, #47
 338 00ee 09D9     		bls	.L23
 339              		.loc 1 163 0 is_stmt 0 discriminator 1
 340 00f0 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 341 00f4 392B     		cmp	r3, #57
 342 00f6 05D8     		bhi	.L23
 164:/usr/src/chibiostest/os/various/chprintf.c ****           c -= '0';
 343              		.loc 1 164 0 is_stmt 1
 344 00f8 9DF83730 		ldrb	r3, [sp, #55]
 345 00fc 303B     		subs	r3, r3, #48
 346 00fe 8DF83730 		strb	r3, [sp, #55]
 347 0102 0BE0     		b	.L24
 348              	.L23:
 165:/usr/src/chibiostest/os/various/chprintf.c ****         else if (c == '*')
 349              		.loc 1 165 0
 350 0104 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 351 0108 2A2B     		cmp	r3, #42
 352 010a 06D1     		bne	.L25
 166:/usr/src/chibiostest/os/various/chprintf.c ****           c = va_arg(ap, int);
 353              		.loc 1 166 0
 354 010c 069B     		ldr	r3, [sp, #24]
 355 010e 1A1D     		adds	r2, r3, #4
 356 0110 0692     		str	r2, [sp, #24]
 357 0112 1B68     		ldr	r3, [r3]
 358 0114 8DF83730 		strb	r3, [sp, #55]
 359 0118 00E0     		b	.L24
 360              	.L25:
 167:/usr/src/chibiostest/os/various/chprintf.c ****         else
 168:/usr/src/chibiostest/os/various/chprintf.c ****           break;
 361              		.loc 1 168 0
 362 011a 0BE0     		b	.L22
 363              	.L24:
 169:/usr/src/chibiostest/os/various/chprintf.c ****         precision *= 10;
 364              		.loc 1 169 0
 365 011c 0B9A     		ldr	r2, [sp, #44]
 366 011e 1346     		mov	r3, r2
 367 0120 9B00     		lsls	r3, r3, #2
 368 0122 1344     		add	r3, r3, r2
 369 0124 5B00     		lsls	r3, r3, #1
 370 0126 0B93     		str	r3, [sp, #44]
 170:/usr/src/chibiostest/os/various/chprintf.c ****         precision += c;
 371              		.loc 1 170 0
 372 0128 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 373 012c 0B9A     		ldr	r2, [sp, #44]
 374 012e 1344     		add	r3, r3, r2
 375 0130 0B93     		str	r3, [sp, #44]
 171:/usr/src/chibiostest/os/various/chprintf.c ****       }
 376              		.loc 1 171 0
 377 0132 D3E7     		b	.L26
 378              	.L22:
 172:/usr/src/chibiostest/os/various/chprintf.c ****     }
 173:/usr/src/chibiostest/os/various/chprintf.c ****     /* Long modifier.*/
 174:/usr/src/chibiostest/os/various/chprintf.c ****     if (c == 'l' || c == 'L') {
 379              		.loc 1 174 0
 380 0134 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 381 0138 6C2B     		cmp	r3, #108
 382 013a 03D0     		beq	.L27
 383              		.loc 1 174 0 is_stmt 0 discriminator 1
 384 013c 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 385 0140 4C2B     		cmp	r3, #76
 386 0142 0DD1     		bne	.L28
 387              	.L27:
 175:/usr/src/chibiostest/os/various/chprintf.c ****       is_long = TRUE;
 388              		.loc 1 175 0 is_stmt 1
 389 0144 0123     		movs	r3, #1
 390 0146 0993     		str	r3, [sp, #36]
 176:/usr/src/chibiostest/os/various/chprintf.c ****       if (*fmt)
 391              		.loc 1 176 0
 392 0148 119B     		ldr	r3, [sp, #68]
 393 014a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 394 014c 002B     		cmp	r3, #0
 395 014e 06D0     		beq	.L29
 177:/usr/src/chibiostest/os/various/chprintf.c ****         c = *fmt++;
 396              		.loc 1 177 0
 397 0150 119B     		ldr	r3, [sp, #68]
 398 0152 5A1C     		adds	r2, r3, #1
 399 0154 1192     		str	r2, [sp, #68]
 400 0156 1B78     		ldrb	r3, [r3]
 401 0158 8DF83730 		strb	r3, [sp, #55]
 176:/usr/src/chibiostest/os/various/chprintf.c ****       if (*fmt)
 402              		.loc 1 176 0
 403 015c 0CE0     		b	.L30
 404              	.L29:
 176:/usr/src/chibiostest/os/various/chprintf.c ****       if (*fmt)
 405              		.loc 1 176 0 is_stmt 0 discriminator 1
 406 015e 0BE0     		b	.L30
 407              	.L28:
 178:/usr/src/chibiostest/os/various/chprintf.c ****     }
 179:/usr/src/chibiostest/os/various/chprintf.c ****     else
 180:/usr/src/chibiostest/os/various/chprintf.c ****       is_long = (c >= 'A') && (c <= 'Z');
 408              		.loc 1 180 0 is_stmt 1
 409 0160 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 410 0164 402B     		cmp	r3, #64
 411 0166 05D9     		bls	.L31
 412              		.loc 1 180 0 is_stmt 0 discriminator 1
 413 0168 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 414 016c 5A2B     		cmp	r3, #90
 415 016e 01D8     		bhi	.L31
 416 0170 0123     		movs	r3, #1
 417 0172 00E0     		b	.L32
 418              	.L31:
 419              		.loc 1 180 0 discriminator 2
 420 0174 0023     		movs	r3, #0
 421              	.L32:
 422              		.loc 1 180 0 discriminator 3
 423 0176 0993     		str	r3, [sp, #36]
 424              	.L30:
 181:/usr/src/chibiostest/os/various/chprintf.c **** 
 182:/usr/src/chibiostest/os/various/chprintf.c ****     /* Command decoding.*/
 183:/usr/src/chibiostest/os/various/chprintf.c ****     switch (c) {
 425              		.loc 1 183 0 is_stmt 1
 426 0178 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 427 017c 443B     		subs	r3, r3, #68
 428 017e 342B     		cmp	r3, #52
 429 0180 00F2E180 		bhi	.L33
 430 0184 01A2     		adr	r2, .L35
 431 0186 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 432 018a 00BF     		.p2align 2
 433              	.L35:
 434 018c C3020000 		.word	.L34+1
 435 0190 47030000 		.word	.L33+1
 436 0194 47030000 		.word	.L33+1
 437 0198 47030000 		.word	.L33+1
 438 019c 47030000 		.word	.L33+1
 439 01a0 47030000 		.word	.L33+1
 440 01a4 47030000 		.word	.L33+1
 441 01a8 47030000 		.word	.L33+1
 442 01ac 47030000 		.word	.L33+1
 443 01b0 47030000 		.word	.L33+1
 444 01b4 47030000 		.word	.L33+1
 445 01b8 13030000 		.word	.L36+1
 446 01bc 47030000 		.word	.L33+1
 447 01c0 47030000 		.word	.L33+1
 448 01c4 47030000 		.word	.L33+1
 449 01c8 47030000 		.word	.L33+1
 450 01cc 47030000 		.word	.L33+1
 451 01d0 0B030000 		.word	.L37+1
 452 01d4 47030000 		.word	.L33+1
 453 01d8 47030000 		.word	.L33+1
 454 01dc 03030000 		.word	.L38+1
 455 01e0 47030000 		.word	.L33+1
 456 01e4 47030000 		.word	.L33+1
 457 01e8 47030000 		.word	.L33+1
 458 01ec 47030000 		.word	.L33+1
 459 01f0 47030000 		.word	.L33+1
 460 01f4 47030000 		.word	.L33+1
 461 01f8 47030000 		.word	.L33+1
 462 01fc 47030000 		.word	.L33+1
 463 0200 47030000 		.word	.L33+1
 464 0204 47030000 		.word	.L33+1
 465 0208 61020000 		.word	.L39+1
 466 020c C3020000 		.word	.L34+1
 467 0210 47030000 		.word	.L33+1
 468 0214 47030000 		.word	.L33+1
 469 0218 47030000 		.word	.L33+1
 470 021c 47030000 		.word	.L33+1
 471 0220 47030000 		.word	.L33+1
 472 0224 47030000 		.word	.L33+1
 473 0228 47030000 		.word	.L33+1
 474 022c 47030000 		.word	.L33+1
 475 0230 47030000 		.word	.L33+1
 476 0234 47030000 		.word	.L33+1
 477 0238 13030000 		.word	.L36+1
 478 023c 47030000 		.word	.L33+1
 479 0240 47030000 		.word	.L33+1
 480 0244 47030000 		.word	.L33+1
 481 0248 7B020000 		.word	.L40+1
 482 024c 47030000 		.word	.L33+1
 483 0250 0B030000 		.word	.L37+1
 484 0254 47030000 		.word	.L33+1
 485 0258 47030000 		.word	.L33+1
 486 025c 03030000 		.word	.L38+1
 487              		.p2align 1
 488              	.L39:
 184:/usr/src/chibiostest/os/various/chprintf.c ****     case 'c':
 185:/usr/src/chibiostest/os/various/chprintf.c ****       filler = ' ';
 489              		.loc 1 185 0
 490 0260 2023     		movs	r3, #32
 491 0262 8DF83630 		strb	r3, [sp, #54]
 186:/usr/src/chibiostest/os/various/chprintf.c ****       *p++ = va_arg(ap, int);
 492              		.loc 1 186 0
 493 0266 0F9B     		ldr	r3, [sp, #60]
 494 0268 5A1C     		adds	r2, r3, #1
 495 026a 0F92     		str	r2, [sp, #60]
 496 026c 069A     		ldr	r2, [sp, #24]
 497 026e 111D     		adds	r1, r2, #4
 498 0270 0691     		str	r1, [sp, #24]
 499 0272 1268     		ldr	r2, [r2]
 500 0274 D2B2     		uxtb	r2, r2
 501 0276 1A70     		strb	r2, [r3]
 187:/usr/src/chibiostest/os/various/chprintf.c ****       break;
 502              		.loc 1 187 0
 503 0278 6CE0     		b	.L41
 504              	.L40:
 188:/usr/src/chibiostest/os/various/chprintf.c ****     case 's':
 189:/usr/src/chibiostest/os/various/chprintf.c ****       filler = ' ';
 505              		.loc 1 189 0
 506 027a 2023     		movs	r3, #32
 507 027c 8DF83630 		strb	r3, [sp, #54]
 190:/usr/src/chibiostest/os/various/chprintf.c ****       if ((s = va_arg(ap, char *)) == 0)
 508              		.loc 1 190 0
 509 0280 069B     		ldr	r3, [sp, #24]
 510 0282 1A1D     		adds	r2, r3, #4
 511 0284 0692     		str	r2, [sp, #24]
 512 0286 1B68     		ldr	r3, [r3]
 513 0288 0E93     		str	r3, [sp, #56]
 514 028a 0E9B     		ldr	r3, [sp, #56]
 515 028c 002B     		cmp	r3, #0
 516 028e 01D1     		bne	.L42
 191:/usr/src/chibiostest/os/various/chprintf.c ****         s = "(null)";
 517              		.loc 1 191 0
 518 0290 604B     		ldr	r3, .L64
 519 0292 0E93     		str	r3, [sp, #56]
 520              	.L42:
 192:/usr/src/chibiostest/os/various/chprintf.c ****       if (precision == 0)
 521              		.loc 1 192 0
 522 0294 0B9B     		ldr	r3, [sp, #44]
 523 0296 002B     		cmp	r3, #0
 524 0298 02D1     		bne	.L43
 193:/usr/src/chibiostest/os/various/chprintf.c ****         precision = 32767;
 525              		.loc 1 193 0
 526 029a 47F6FF73 		movw	r3, #32767
 527 029e 0B93     		str	r3, [sp, #44]
 528              	.L43:
 194:/usr/src/chibiostest/os/various/chprintf.c ****       for (p = s; *p && (--precision >= 0); p++)
 529              		.loc 1 194 0
 530 02a0 0E9B     		ldr	r3, [sp, #56]
 531 02a2 0F93     		str	r3, [sp, #60]
 532 02a4 02E0     		b	.L44
 533              	.L46:
 534              		.loc 1 194 0 is_stmt 0 discriminator 1
 535 02a6 0F9B     		ldr	r3, [sp, #60]
 536 02a8 0133     		adds	r3, r3, #1
 537 02aa 0F93     		str	r3, [sp, #60]
 538              	.L44:
 539 02ac 0F9B     		ldr	r3, [sp, #60]
 540 02ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 541 02b0 002B     		cmp	r3, #0
 542 02b2 05D0     		beq	.L45
 543              		.loc 1 194 0 discriminator 2
 544 02b4 0B9B     		ldr	r3, [sp, #44]
 545 02b6 013B     		subs	r3, r3, #1
 546 02b8 0B93     		str	r3, [sp, #44]
 547 02ba 0B9B     		ldr	r3, [sp, #44]
 548 02bc 002B     		cmp	r3, #0
 549 02be F2DA     		bge	.L46
 550              	.L45:
 195:/usr/src/chibiostest/os/various/chprintf.c ****         ;
 196:/usr/src/chibiostest/os/various/chprintf.c ****       break;
 551              		.loc 1 196 0 is_stmt 1
 552 02c0 48E0     		b	.L41
 553              	.L34:
 197:/usr/src/chibiostest/os/various/chprintf.c ****     case 'D':
 198:/usr/src/chibiostest/os/various/chprintf.c ****     case 'd':
 199:/usr/src/chibiostest/os/various/chprintf.c ****       if (is_long)
 554              		.loc 1 199 0
 555 02c2 099B     		ldr	r3, [sp, #36]
 556 02c4 002B     		cmp	r3, #0
 557 02c6 05D0     		beq	.L47
 200:/usr/src/chibiostest/os/various/chprintf.c ****         l = va_arg(ap, long);
 558              		.loc 1 200 0
 559 02c8 069B     		ldr	r3, [sp, #24]
 560 02ca 1A1D     		adds	r2, r3, #4
 561 02cc 0692     		str	r2, [sp, #24]
 562 02ce 1B68     		ldr	r3, [r3]
 563 02d0 0793     		str	r3, [sp, #28]
 564 02d2 04E0     		b	.L48
 565              	.L47:
 201:/usr/src/chibiostest/os/various/chprintf.c ****       else
 202:/usr/src/chibiostest/os/various/chprintf.c ****         l = va_arg(ap, int);
 566              		.loc 1 202 0
 567 02d4 069B     		ldr	r3, [sp, #24]
 568 02d6 1A1D     		adds	r2, r3, #4
 569 02d8 0692     		str	r2, [sp, #24]
 570 02da 1B68     		ldr	r3, [r3]
 571 02dc 0793     		str	r3, [sp, #28]
 572              	.L48:
 203:/usr/src/chibiostest/os/various/chprintf.c ****       if (l < 0) {
 573              		.loc 1 203 0
 574 02de 079B     		ldr	r3, [sp, #28]
 575 02e0 002B     		cmp	r3, #0
 576 02e2 07DA     		bge	.L49
 204:/usr/src/chibiostest/os/various/chprintf.c ****         *p++ = '-';
 577              		.loc 1 204 0
 578 02e4 0F9B     		ldr	r3, [sp, #60]
 579 02e6 5A1C     		adds	r2, r3, #1
 580 02e8 0F92     		str	r2, [sp, #60]
 581 02ea 2D22     		movs	r2, #45
 582 02ec 1A70     		strb	r2, [r3]
 205:/usr/src/chibiostest/os/various/chprintf.c ****         l = -l;
 583              		.loc 1 205 0
 584 02ee 079B     		ldr	r3, [sp, #28]
 585 02f0 5B42     		negs	r3, r3
 586 02f2 0793     		str	r3, [sp, #28]
 587              	.L49:
 206:/usr/src/chibiostest/os/various/chprintf.c ****       }
 207:/usr/src/chibiostest/os/various/chprintf.c ****       p = ltoa(p, l, 10);
 588              		.loc 1 207 0
 589 02f4 0F98     		ldr	r0, [sp, #60]
 590 02f6 0799     		ldr	r1, [sp, #28]
 591 02f8 0A22     		movs	r2, #10
 592 02fa FFF7FEFF 		bl	ltoa
 593 02fe 0F90     		str	r0, [sp, #60]
 208:/usr/src/chibiostest/os/various/chprintf.c ****       break;
 594              		.loc 1 208 0
 595 0300 28E0     		b	.L41
 596              	.L38:
 209:/usr/src/chibiostest/os/various/chprintf.c **** #if CHPRINTF_USE_FLOAT
 210:/usr/src/chibiostest/os/various/chprintf.c ****     case 'f':
 211:/usr/src/chibiostest/os/various/chprintf.c ****       f = (float) va_arg(ap, double);
 212:/usr/src/chibiostest/os/various/chprintf.c ****       if (f < 0) {
 213:/usr/src/chibiostest/os/various/chprintf.c ****         *p++ = '-';
 214:/usr/src/chibiostest/os/various/chprintf.c ****         f = -f;
 215:/usr/src/chibiostest/os/various/chprintf.c ****       }
 216:/usr/src/chibiostest/os/various/chprintf.c ****       p = ftoa(p, f);
 217:/usr/src/chibiostest/os/various/chprintf.c ****       break;
 218:/usr/src/chibiostest/os/various/chprintf.c **** #endif
 219:/usr/src/chibiostest/os/various/chprintf.c ****     case 'X':
 220:/usr/src/chibiostest/os/various/chprintf.c ****     case 'x':
 221:/usr/src/chibiostest/os/various/chprintf.c ****       c = 16;
 597              		.loc 1 221 0
 598 0302 1023     		movs	r3, #16
 599 0304 8DF83730 		strb	r3, [sp, #55]
 222:/usr/src/chibiostest/os/various/chprintf.c ****       goto unsigned_common;
 600              		.loc 1 222 0
 601 0308 06E0     		b	.L50
 602              	.L37:
 223:/usr/src/chibiostest/os/various/chprintf.c ****     case 'U':
 224:/usr/src/chibiostest/os/various/chprintf.c ****     case 'u':
 225:/usr/src/chibiostest/os/various/chprintf.c ****       c = 10;
 603              		.loc 1 225 0
 604 030a 0A23     		movs	r3, #10
 605 030c 8DF83730 		strb	r3, [sp, #55]
 226:/usr/src/chibiostest/os/various/chprintf.c ****       goto unsigned_common;
 606              		.loc 1 226 0
 607 0310 02E0     		b	.L50
 608              	.L36:
 227:/usr/src/chibiostest/os/various/chprintf.c ****     case 'O':
 228:/usr/src/chibiostest/os/various/chprintf.c ****     case 'o':
 229:/usr/src/chibiostest/os/various/chprintf.c ****       c = 8;
 609              		.loc 1 229 0
 610 0312 0823     		movs	r3, #8
 611 0314 8DF83730 		strb	r3, [sp, #55]
 612              	.L50:
 230:/usr/src/chibiostest/os/various/chprintf.c **** unsigned_common:
 231:/usr/src/chibiostest/os/various/chprintf.c ****       if (is_long)
 613              		.loc 1 231 0
 614 0318 099B     		ldr	r3, [sp, #36]
 615 031a 002B     		cmp	r3, #0
 616 031c 05D0     		beq	.L51
 232:/usr/src/chibiostest/os/various/chprintf.c ****         l = va_arg(ap, long);
 617              		.loc 1 232 0
 618 031e 069B     		ldr	r3, [sp, #24]
 619 0320 1A1D     		adds	r2, r3, #4
 620 0322 0692     		str	r2, [sp, #24]
 621 0324 1B68     		ldr	r3, [r3]
 622 0326 0793     		str	r3, [sp, #28]
 623 0328 04E0     		b	.L52
 624              	.L51:
 233:/usr/src/chibiostest/os/various/chprintf.c ****       else
 234:/usr/src/chibiostest/os/various/chprintf.c ****         l = va_arg(ap, int);
 625              		.loc 1 234 0
 626 032a 069B     		ldr	r3, [sp, #24]
 627 032c 1A1D     		adds	r2, r3, #4
 628 032e 0692     		str	r2, [sp, #24]
 629 0330 1B68     		ldr	r3, [r3]
 630 0332 0793     		str	r3, [sp, #28]
 631              	.L52:
 235:/usr/src/chibiostest/os/various/chprintf.c ****       p = ltoa(p, l, c);
 632              		.loc 1 235 0
 633 0334 9DF83730 		ldrb	r3, [sp, #55]	@ zero_extendqisi2
 634 0338 0F98     		ldr	r0, [sp, #60]
 635 033a 0799     		ldr	r1, [sp, #28]
 636 033c 1A46     		mov	r2, r3
 637 033e FFF7FEFF 		bl	ltoa
 638 0342 0F90     		str	r0, [sp, #60]
 236:/usr/src/chibiostest/os/various/chprintf.c ****       break;
 639              		.loc 1 236 0
 640 0344 06E0     		b	.L41
 641              	.L33:
 237:/usr/src/chibiostest/os/various/chprintf.c ****     default:
 238:/usr/src/chibiostest/os/various/chprintf.c ****       *p++ = c;
 642              		.loc 1 238 0
 643 0346 0F9B     		ldr	r3, [sp, #60]
 644 0348 5A1C     		adds	r2, r3, #1
 645 034a 0F92     		str	r2, [sp, #60]
 646 034c 9DF83720 		ldrb	r2, [sp, #55]
 647 0350 1A70     		strb	r2, [r3]
 239:/usr/src/chibiostest/os/various/chprintf.c ****       break;
 648              		.loc 1 239 0
 649 0352 00BF     		nop
 650              	.L41:
 240:/usr/src/chibiostest/os/various/chprintf.c ****     }
 241:/usr/src/chibiostest/os/various/chprintf.c ****     i = (int)(p - s);
 651              		.loc 1 241 0
 652 0354 0F9A     		ldr	r2, [sp, #60]
 653 0356 0E9B     		ldr	r3, [sp, #56]
 654 0358 D31A     		subs	r3, r2, r3
 655 035a 0C93     		str	r3, [sp, #48]
 242:/usr/src/chibiostest/os/various/chprintf.c ****     if ((width -= i) < 0)
 656              		.loc 1 242 0
 657 035c 0A9A     		ldr	r2, [sp, #40]
 658 035e 0C9B     		ldr	r3, [sp, #48]
 659 0360 D31A     		subs	r3, r2, r3
 660 0362 0A93     		str	r3, [sp, #40]
 661 0364 0A9B     		ldr	r3, [sp, #40]
 662 0366 002B     		cmp	r3, #0
 663 0368 01DA     		bge	.L53
 243:/usr/src/chibiostest/os/various/chprintf.c ****       width = 0;
 664              		.loc 1 243 0
 665 036a 0023     		movs	r3, #0
 666 036c 0A93     		str	r3, [sp, #40]
 667              	.L53:
 244:/usr/src/chibiostest/os/various/chprintf.c ****     if (left_align == FALSE)
 668              		.loc 1 244 0
 669 036e 089B     		ldr	r3, [sp, #32]
 670 0370 002B     		cmp	r3, #0
 671 0372 02D1     		bne	.L54
 245:/usr/src/chibiostest/os/various/chprintf.c ****       width = -width;
 672              		.loc 1 245 0
 673 0374 0A9B     		ldr	r3, [sp, #40]
 674 0376 5B42     		negs	r3, r3
 675 0378 0A93     		str	r3, [sp, #40]
 676              	.L54:
 246:/usr/src/chibiostest/os/various/chprintf.c ****     if (width < 0) {
 677              		.loc 1 246 0
 678 037a 0A9B     		ldr	r3, [sp, #40]
 679 037c 002B     		cmp	r3, #0
 680 037e 22DA     		bge	.L55
 247:/usr/src/chibiostest/os/various/chprintf.c ****       if (*s == '-' && filler == '0') {
 681              		.loc 1 247 0
 682 0380 0E9B     		ldr	r3, [sp, #56]
 683 0382 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 684 0384 2D2B     		cmp	r3, #45
 685 0386 10D1     		bne	.L56
 686              		.loc 1 247 0 is_stmt 0 discriminator 1
 687 0388 9DF83630 		ldrb	r3, [sp, #54]	@ zero_extendqisi2
 688 038c 302B     		cmp	r3, #48
 689 038e 0CD1     		bne	.L56
 248:/usr/src/chibiostest/os/various/chprintf.c ****         chSequentialStreamPut(chp, (uint8_t)*s++);
 690              		.loc 1 248 0 is_stmt 1
 691 0390 019B     		ldr	r3, [sp, #4]
 692 0392 1B68     		ldr	r3, [r3]
 693 0394 9A68     		ldr	r2, [r3, #8]
 694 0396 0E9B     		ldr	r3, [sp, #56]
 695 0398 591C     		adds	r1, r3, #1
 696 039a 0E91     		str	r1, [sp, #56]
 697 039c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 698 039e 0198     		ldr	r0, [sp, #4]
 699 03a0 1946     		mov	r1, r3
 700 03a2 9047     		blx	r2
 249:/usr/src/chibiostest/os/various/chprintf.c ****         i--;
 701              		.loc 1 249 0
 702 03a4 0C9B     		ldr	r3, [sp, #48]
 703 03a6 013B     		subs	r3, r3, #1
 704 03a8 0C93     		str	r3, [sp, #48]
 705              	.L56:
 250:/usr/src/chibiostest/os/various/chprintf.c ****       }
 251:/usr/src/chibiostest/os/various/chprintf.c ****       do
 252:/usr/src/chibiostest/os/various/chprintf.c ****         chSequentialStreamPut(chp, (uint8_t)filler);
 706              		.loc 1 252 0 discriminator 1
 707 03aa 019B     		ldr	r3, [sp, #4]
 708 03ac 1B68     		ldr	r3, [r3]
 709 03ae 9B68     		ldr	r3, [r3, #8]
 710 03b0 9DF83620 		ldrb	r2, [sp, #54]	@ zero_extendqisi2
 711 03b4 0198     		ldr	r0, [sp, #4]
 712 03b6 1146     		mov	r1, r2
 713 03b8 9847     		blx	r3
 253:/usr/src/chibiostest/os/various/chprintf.c ****       while (++width != 0);
 714              		.loc 1 253 0 discriminator 1
 715 03ba 0A9B     		ldr	r3, [sp, #40]
 716 03bc 0133     		adds	r3, r3, #1
 717 03be 0A93     		str	r3, [sp, #40]
 718 03c0 0A9B     		ldr	r3, [sp, #40]
 719 03c2 002B     		cmp	r3, #0
 720 03c4 F1D1     		bne	.L56
 721              	.L55:
 254:/usr/src/chibiostest/os/various/chprintf.c ****     }
 255:/usr/src/chibiostest/os/various/chprintf.c ****     while (--i >= 0)
 722              		.loc 1 255 0
 723 03c6 09E0     		b	.L57
 724              	.L58:
 256:/usr/src/chibiostest/os/various/chprintf.c ****       chSequentialStreamPut(chp, (uint8_t)*s++);
 725              		.loc 1 256 0
 726 03c8 019B     		ldr	r3, [sp, #4]
 727 03ca 1B68     		ldr	r3, [r3]
 728 03cc 9A68     		ldr	r2, [r3, #8]
 729 03ce 0E9B     		ldr	r3, [sp, #56]
 730 03d0 591C     		adds	r1, r3, #1
 731 03d2 0E91     		str	r1, [sp, #56]
 732 03d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 733 03d6 0198     		ldr	r0, [sp, #4]
 734 03d8 1946     		mov	r1, r3
 735 03da 9047     		blx	r2
 736              	.L57:
 255:/usr/src/chibiostest/os/various/chprintf.c ****       chSequentialStreamPut(chp, (uint8_t)*s++);
 737              		.loc 1 255 0 discriminator 1
 738 03dc 0C9B     		ldr	r3, [sp, #48]
 739 03de 013B     		subs	r3, r3, #1
 740 03e0 0C93     		str	r3, [sp, #48]
 741 03e2 0C9B     		ldr	r3, [sp, #48]
 742 03e4 002B     		cmp	r3, #0
 743 03e6 EFDA     		bge	.L58
 257:/usr/src/chibiostest/os/various/chprintf.c **** 
 258:/usr/src/chibiostest/os/various/chprintf.c ****     while (width) {
 744              		.loc 1 258 0
 745 03e8 0AE0     		b	.L59
 746              	.L60:
 259:/usr/src/chibiostest/os/various/chprintf.c ****       chSequentialStreamPut(chp, (uint8_t)filler);
 747              		.loc 1 259 0
 748 03ea 019B     		ldr	r3, [sp, #4]
 749 03ec 1B68     		ldr	r3, [r3]
 750 03ee 9B68     		ldr	r3, [r3, #8]
 751 03f0 9DF83620 		ldrb	r2, [sp, #54]	@ zero_extendqisi2
 752 03f4 0198     		ldr	r0, [sp, #4]
 753 03f6 1146     		mov	r1, r2
 754 03f8 9847     		blx	r3
 260:/usr/src/chibiostest/os/various/chprintf.c ****       width--;
 755              		.loc 1 260 0
 756 03fa 0A9B     		ldr	r3, [sp, #40]
 757 03fc 013B     		subs	r3, r3, #1
 758 03fe 0A93     		str	r3, [sp, #40]
 759              	.L59:
 258:/usr/src/chibiostest/os/various/chprintf.c ****       chSequentialStreamPut(chp, (uint8_t)filler);
 760              		.loc 1 258 0 discriminator 1
 761 0400 0A9B     		ldr	r3, [sp, #40]
 762 0402 002B     		cmp	r3, #0
 763 0404 F1D1     		bne	.L60
 764              	.L14:
 261:/usr/src/chibiostest/os/various/chprintf.c ****     }
 262:/usr/src/chibiostest/os/various/chprintf.c ****   }
 765              		.loc 1 262 0
 766 0406 01E6     		b	.L61
 767              	.L63:
 263:/usr/src/chibiostest/os/various/chprintf.c **** }
 768              		.loc 1 263 0
 769 0408 10B0     		add	sp, sp, #64
 770              		@ sp needed
 771 040a 5DF804EB 		ldr	lr, [sp], #4
 772 040e 03B0     		add	sp, sp, #12
 773 0410 7047     		bx	lr
 774              	.L65:
 775 0412 00BF     		.align	2
 776              	.L64:
 777 0414 00000000 		.word	.LC0
 778              		.cfi_endproc
 779              	.LFE9:
 781 0418 AFF30080 		.text
 781      AFF30080 
 782              	.Letext0:
 783              		.file 2 "/usr/lib/gcc/arm-none-eabi/4.8/include/stdarg.h"
 784              		.file 3 "/usr/lib/gcc/arm-none-eabi/4.8/include/stddef.h"
 785              		.file 4 "/usr/include/newlib/machine/_default_types.h"
 786              		.file 5 "/usr/include/newlib/stdint.h"
 787              		.file 6 "/usr/src/chibiostest/os/ports/GCC/ARMCMx/chtypes.h"
 788              		.file 7 "<built-in>"
 789              		.file 8 "/usr/src/chibiostest/os/kernel/include/chstreams.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 chprintf.c
     /tmp/cci5HVWm.s:20     .text.long_to_string_with_divisor:0000000000000000 $t
     /tmp/cci5HVWm.s:25     .text.long_to_string_with_divisor:0000000000000000 long_to_string_with_divisor
     /tmp/cci5HVWm.s:137    .text.ltoa:0000000000000000 $t
     /tmp/cci5HVWm.s:142    .text.ltoa:0000000000000000 ltoa
     /tmp/cci5HVWm.s:172    .rodata:0000000000000000 $d
     /tmp/cci5HVWm.s:176    .text.chprintf:0000000000000000 $t
     /tmp/cci5HVWm.s:182    .text.chprintf:0000000000000000 chprintf
     /tmp/cci5HVWm.s:434    .text.chprintf:000000000000018c $d
     /tmp/cci5HVWm.s:487    .text.chprintf:0000000000000260 $t
     /tmp/cci5HVWm.s:777    .text.chprintf:0000000000000414 $d
                     .debug_frame:0000000000000010 $d
     /tmp/cci5HVWm.s:781    .text.chprintf:0000000000000418 $t

NO UNDEFINED SYMBOLS
